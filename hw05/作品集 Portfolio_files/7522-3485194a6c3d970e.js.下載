"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7522],{27522:function(t,n,c){c.d(n,{r9:function(){return P},Y4:function(){return U},vz:function(){return x},uf:function(){return w},wt:function(){return W},jI:function(){return V},kR:function(){return useListboxContext}});var l,d,E=c(67294),f=c(85310),I=c(40012),N=c(78683);/**
  * @reach/utils v0.18.0
  *
  * Copyright (c) 2018-2022, React Training LLC
  *
  * This source code is licensed under the MIT license found in the
  * LICENSE.md file in the root directory of this source tree.
  *
  * @license MIT
  */function canUseDOM(){return!!("undefined"!=typeof window&&window.document&&window.document.createElement)}function composeEventHandlers(t,n){return c=>{if(t&&t(c),!c.defaultPrevented)return n(c)}}function isFunction(t){return!!(t&&"[object Function]"==({}).toString.call(t))}function useComposedRefs(...t){return(0,E.useCallback)(n=>{for(let c of t)!function(t,n){if(null!=t){if(isFunction(t))t(n);else try{t.current=n}catch(c){throw Error(`Cannot assign value "${n}" to ref "${t}"`)}}}(c,n)},t)}function createNamedContext(t,n){let c=E.createContext(n);return c.displayName=t,c}function isRightClick(t){return"which"in t?3===t.which:"button"in t&&2===t.button}function makeId(...t){return t.filter(t=>null!=t).join("--")}var p=canUseDOM()?E.useLayoutEffect:E.useEffect;(l=d||(d={}))[l.NotStarted=0]="NotStarted",l[l.Running=1]="Running",l[l.Stopped=2]="Stopped";var O={type:"xstate.init"};function e(t){return void 0===t?[]:[].concat(t)}function r(t){return{type:"xstate.assign",assignment:t}}function i(t,n){return"string"==typeof(t="string"==typeof t&&n&&n[t]?n[t]:t)?{type:t}:"function"==typeof t?{type:t.name,exec:t}:t}function o(t){return function(n){return t===n}}function a(t){return"string"==typeof t?{type:t}:t}function u(t,n){return{value:t,context:n,actions:[],changed:!1,matches:o(t)}}var s=function(t,n){return t.actions.forEach(function(c){var l=c.exec;return l&&l(t.context,n)})};function reach_utils_useConstant(t){let n=(0,E.useRef)();return n.current||(n.current={v:t()}),n.current.v}"undefined"!=typeof window&&window.document&&window.document.createElement?E.useLayoutEffect:E.useEffect;/**
  * @reach/machine v0.18.0
  *
  * Copyright (c) 2018-2022, React Training LLC
  *
  * This source code is licensed under the MIT license found in the
  * LICENSE.md file in the root directory of this source tree.
  *
  * @license MIT
  */var getServiceState=t=>{let n;return t.subscribe(t=>{n=t}).unsubscribe(),n},T=r({navigationValue:null}),_=r({typeaheadQuery:null}),v=r({value:(t,n)=>n.value}),A=r({value:(t,n)=>t.initialValue}),b=r({navigationValue:(t,n)=>n.value}),g=r({navigationValue:t=>{var n,c;let l=(n=t.value,c=t.options,n?c.find(t=>t.value===n):void 0);return l&&!l.disabled?t.value:t.options.find(t=>!t.disabled)?.value||null}});function listboxLostFocus(t,n){if("BLUR"===n.type){let{list:t,popover:c}=n.refs,{relatedTarget:l}=n,d=canUseDOM()?c?c.ownerDocument:document:null;return!!(d?.activeElement!==t&&c&&!c.contains(l||d?.activeElement))}return!1}function clickedOutsideOfListbox(t,n){if("OUTSIDE_MOUSE_DOWN"===n.type||"OUTSIDE_MOUSE_UP"===n.type){let{button:t,popover:c}=n.refs,{relatedTarget:l}=n;return!!(l!==t&&t&&!t.contains(l)&&c&&!c.contains(l))}return!1}function optionIsActive(t,n){return!!t.options.find(n=>n.value===t.navigationValue)}function shouldNavigate(t,n){let{popover:c,list:l}=n.refs,{relatedTarget:d}=n;return(!(c&&d&&c.contains(d))||d===l)&&optionIsActive(t,n)}function focusList(t,n){requestAnimationFrame(()=>{n.refs.list&&n.refs.list.focus()})}function focusButton(t,n){n.refs.button&&n.refs.button.focus()}function listboxIsNotDisabled(t,n){return!n.disabled}function listboxIsNotControlled(t,n){return"isControlled"in n&&!n.isControlled}function optionIsNavigable(t,n){return"OPTION_TOUCH_START"!==n.type||!n||!n.disabled}function optionIsSelectable(t,n){return(!("disabled"in n)||!n.disabled)&&("value"in n?null!=n.value:null!=t.navigationValue)}function selectOption(t,n){n.callback&&n.callback(n.value)}function submitForm(t,n){if("KEY_DOWN_ENTER"!==n.type)return;let{hiddenInput:c}=n.refs;if(c&&c.form){let t=c.form.querySelector("button:not([type]),[type='submit']");t&&t.click()}}var D=r({typeaheadQuery:(t,n)=>(t.typeaheadQuery||"")+n.query}),m=r({value:(t,n)=>{if("UPDATE_AFTER_TYPEAHEAD"===n.type&&n.query){let c=findOptionFromTypeahead(t.options,n.query);if(c&&!c.disabled)return n.callback&&n.callback(c.value),c.value}return t.value}}),L=r({navigationValue:(t,n)=>{if("UPDATE_AFTER_TYPEAHEAD"===n.type&&n.query){let c=findOptionFromTypeahead(t.options,n.query);if(c&&!c.disabled)return c.value}return t.navigationValue}}),S={GET_DERIVED_DATA:{actions:r((t,n)=>({...t,...n.data}))},VALUE_CHANGE:{actions:[v,selectOption]}},createMachineDefinition=({value:t})=>({id:"listbox",initial:"IDLE",context:{initialValue:t,value:t,options:[],navigationValue:null,typeaheadQuery:null},states:{IDLE:{on:{...S,BUTTON_MOUSE_DOWN:{target:"OPEN",actions:[g],cond:listboxIsNotDisabled},KEY_DOWN_SPACE:{target:"NAVIGATING",actions:[g,focusList],cond:listboxIsNotDisabled},KEY_DOWN_SEARCH:{target:"IDLE",actions:D,cond:listboxIsNotDisabled},UPDATE_AFTER_TYPEAHEAD:{target:"IDLE",actions:[m],cond:listboxIsNotDisabled},CLEAR_TYPEAHEAD:{target:"IDLE",actions:_},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[g,_,focusList],cond:listboxIsNotDisabled},KEY_DOWN_ENTER:{actions:[submitForm],cond:listboxIsNotDisabled},RESET_VALUE:{actions:[A,selectOption],cond:listboxIsNotControlled}}},INTERACTING:{entry:[T],on:{...S,CLEAR_NAV_SELECTION:{actions:[T,focusList]},KEY_DOWN_ENTER:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_SPACE:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},BUTTON_MOUSE_DOWN:{target:"IDLE",actions:[focusButton]},KEY_DOWN_ESCAPE:{target:"IDLE",actions:[focusButton]},OPTION_MOUSE_DOWN:{target:"DRAGGING"},OUTSIDE_MOUSE_DOWN:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:_},{target:"DRAGGING",actions:_,cond:optionIsActive}],OUTSIDE_MOUSE_UP:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:_},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:_}],KEY_DOWN_ENTER:"INTERACTING",BLUR:[{target:"IDLE",cond:listboxLostFocus,actions:_},{target:"NAVIGATING",cond:shouldNavigate},{target:"INTERACTING",actions:_}],OPTION_TOUCH_START:{target:"NAVIGATING",actions:[b,_],cond:optionIsNavigable},OPTION_CLICK:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},OPTION_PRESS:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},OPTION_MOUSE_ENTER:{target:"NAVIGATING",actions:[b,_],cond:optionIsNavigable},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[b,_,focusList]}}},OPEN:{on:{...S,CLEAR_NAV_SELECTION:{actions:[T]},KEY_DOWN_ENTER:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_SPACE:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},BUTTON_MOUSE_DOWN:{target:"IDLE",actions:[focusButton]},KEY_DOWN_ESCAPE:{target:"IDLE",actions:[focusButton]},OPTION_MOUSE_DOWN:{target:"DRAGGING"},OUTSIDE_MOUSE_DOWN:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:_},{target:"DRAGGING",cond:optionIsActive},{target:"INTERACTING",actions:_}],OUTSIDE_MOUSE_UP:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:_},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:_}],BLUR:[{target:"IDLE",cond:listboxLostFocus,actions:_},{target:"NAVIGATING",cond:shouldNavigate},{target:"INTERACTING",actions:_}],BUTTON_MOUSE_UP:{target:"NAVIGATING",actions:[g,focusList]},LIST_MOUSE_UP:{target:"NAVIGATING",actions:[g,focusList]},OPTION_TOUCH_START:{target:"NAVIGATING",actions:[b,_],cond:optionIsNavigable},OPTION_CLICK:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},OPTION_PRESS:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[b,_,focusList]},KEY_DOWN_SEARCH:{target:"NAVIGATING",actions:D},UPDATE_AFTER_TYPEAHEAD:{actions:[L]},CLEAR_TYPEAHEAD:{actions:_},OPTION_MOUSE_MOVE:[{target:"DRAGGING",actions:[b],cond:optionIsNavigable},{target:"DRAGGING"}]}},DRAGGING:{on:{...S,CLEAR_NAV_SELECTION:{actions:[T]},KEY_DOWN_ENTER:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_SPACE:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},BUTTON_MOUSE_DOWN:{target:"IDLE",actions:[focusButton]},KEY_DOWN_ESCAPE:{target:"IDLE",actions:[focusButton]},OPTION_MOUSE_DOWN:{target:"DRAGGING"},OUTSIDE_MOUSE_DOWN:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:_},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:_}],OUTSIDE_MOUSE_UP:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:_},{target:"NAVIGATING",cond:optionIsActive,actions:focusList},{target:"INTERACTING",actions:[_,focusList]}],BLUR:[{target:"IDLE",cond:listboxLostFocus,actions:_},{target:"NAVIGATING",cond:shouldNavigate},{target:"INTERACTING",actions:_}],BUTTON_MOUSE_UP:{target:"NAVIGATING",actions:[g,focusList]},OPTION_TOUCH_START:{target:"NAVIGATING",actions:[b,_],cond:optionIsNavigable},OPTION_CLICK:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},OPTION_PRESS:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},OPTION_MOUSE_ENTER:{target:"DRAGGING",actions:[b,_],cond:optionIsNavigable},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[b,_,focusList]},KEY_DOWN_SEARCH:{target:"NAVIGATING",actions:D},UPDATE_AFTER_TYPEAHEAD:{actions:[L]},CLEAR_TYPEAHEAD:{actions:_},OPTION_MOUSE_MOVE:[{target:"NAVIGATING",actions:[b],cond:optionIsNavigable},{target:"NAVIGATING"}],OPTION_MOUSE_UP:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable}}},NAVIGATING:{on:{...S,CLEAR_NAV_SELECTION:{actions:[T,focusList]},KEY_DOWN_ENTER:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},KEY_DOWN_SPACE:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},BUTTON_MOUSE_DOWN:{target:"IDLE",actions:[focusButton]},KEY_DOWN_ESCAPE:{target:"IDLE",actions:[focusButton]},OPTION_MOUSE_DOWN:{target:"DRAGGING"},OUTSIDE_MOUSE_DOWN:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:_},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:_}],OUTSIDE_MOUSE_UP:[{target:"IDLE",cond:clickedOutsideOfListbox,actions:_},{target:"NAVIGATING",cond:optionIsActive},{target:"INTERACTING",actions:_}],BLUR:[{target:"IDLE",cond:listboxLostFocus,actions:_},{target:"NAVIGATING",cond:shouldNavigate},{target:"INTERACTING",actions:_}],BUTTON_MOUSE_UP:{target:"NAVIGATING",actions:[g,focusList]},OPTION_TOUCH_START:{target:"NAVIGATING",actions:[b,_],cond:optionIsNavigable},OPTION_CLICK:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},OPTION_PRESS:{target:"IDLE",actions:[v,_,focusButton,selectOption],cond:optionIsSelectable},OPTION_MOUSE_ENTER:{target:"NAVIGATING",actions:[b,_],cond:optionIsNavigable},KEY_DOWN_NAVIGATE:{target:"NAVIGATING",actions:[b,_,focusList]},KEY_DOWN_SEARCH:{target:"NAVIGATING",actions:D},UPDATE_AFTER_TYPEAHEAD:{actions:[L]},CLEAR_TYPEAHEAD:{actions:_},OPTION_MOUSE_MOVE:[{target:"NAVIGATING",actions:[b],cond:optionIsNavigable},{target:"NAVIGATING"}]}}}});function findOptionFromTypeahead(t,n=""){if(!n)return null;let c=t.find(t=>!t.disabled&&t.label&&t.label.toLowerCase().startsWith(n.toLowerCase()));return c||null}var G=(0,N.nm)("ListboxDescendantContext"),R=createNamedContext("ListboxContext",{}),C=createNamedContext("ListboxGroupContext",{}),x=E.forwardRef(function({as:t="div","aria-labelledby":n,"aria-label":c,children:l,defaultValue:I,disabled:T=!1,form:_,name:v,onChange:A,required:b,value:g,__componentName:D="ListboxInput",...m},L){var S;let C=E.useRef(null!=g),[x,y]=(0,N.f5)(),U=E.useRef(null),h=E.useRef(null),P=E.useRef(null),M=E.useRef(null),V=E.useRef(null),w=E.useRef(null),W=E.useRef(null),[k,B]=function(t,n,c){let l=E.useRef(t),f=reach_utils_useConstant(()=>{var t,n,c,E,f;return(n=(t=l.current).initialState,c=d.NotStarted,E=new Set,f={_machine:t,send:function(l){c===d.Running&&(s(n=t.transition(n,l),a(l)),E.forEach(function(t){return t(n)}))},subscribe:function(t){return E.add(t),t(n),{unsubscribe:function(){return E.delete(t)}}},start:function(){return c=d.Running,s(n,O),f},stop:function(){return c=d.Stopped,E.clear(),f},get state(){return n},get status(){return c}}).start()}),I=E.useRef(null),[N,p]=E.useState(()=>getServiceState(f)),T=E.useCallback(t=>{let l="string"==typeof t?{type:t}:t,d=Object.entries(n).reduce((t,[n,c])=>(t[n]=c.current,t),{});f.send({...l,lastEventType:I.current,refs:d}),I.current=l.type,c&&(console.group("Event Sent"),console.log("Event:",l),console.groupEnd())},[c]);E.useEffect(()=>(f.subscribe(function(t){t.changed&&p(t)}),()=>{f.stop()}),[f]),E.useEffect(()=>{c&&N.changed&&(console.group("State Updated"),console.log("State:",N),console.groupEnd())},[c,N]);let _=E.useMemo(()=>({...N,matches:t=>t===N.value}),[N.changed,N.context,N.value]);return[_,T,f]}((S=createMachineDefinition({value:(C.current?g:I)||null}),reach_utils_useConstant(()=>{var t,n;return t=void 0,n={config:S,_options:t={},initialState:{value:S.initial,actions:e(S.states[S.initial].entry).map(function(n){return i(n,t.actions)}),context:S.context,matches:o(S.initial)},transition:function(t,c){var l,d,E="string"==typeof t?{value:t,context:S.context}:t,f=E.value,I=E.context,N=a(c),p=S.states[f];if(p.on){var O=e(p.on[N.type]);try{for(var T,_,v,A=(T=O,_="function"==typeof Symbol&&T[Symbol.iterator],v=0,_?_.call(T):{next:function(){return T&&v>=T.length&&(T=void 0),{value:T&&T[v++],done:!T}}}),b=A.next();!b.done;b=A.next()){var g=function(t){if(void 0===t)return{value:u(f,I)};var c="string"==typeof t?{target:t}:t,l=c.target,d=void 0===l?f:l,E=c.actions,O=c.cond,T=I;if((void 0===O?function(){return!0}:O)(I,N)){var _=S.states[d],v=!1,A=[].concat(p.exit,void 0===E?[]:E,_.entry).filter(function(t){return t}).map(function(t){return i(t,n._options.actions)}).filter(function(t){if("xstate.assign"===t.type){v=!0;var n=Object.assign({},T);return"function"==typeof t.assignment?n=t.assignment(T,N):Object.keys(t.assignment).forEach(function(c){n[c]="function"==typeof t.assignment[c]?t.assignment[c](T,N):t.assignment[c]}),T=n,!1}return!0});return{value:{value:d,context:T,actions:A,changed:d!==f||A.length>0||v,matches:o(d)}}}}(b.value);if("object"==typeof g)return g.value}}catch(t){l={error:t}}finally{try{b&&!b.done&&(d=A.return)&&d.call(A)}finally{if(l)throw l.error}}}return u(f,I)}}})),{button:U,hiddenInput:h,highlightedOption:P,input:M,list:V,popover:w,selectedOption:W},!1),Y=(0,f.M)(m.id),K=m.id||makeId("listbox-input",Y),H=useComposedRefs(M,L),F=E.useMemo(()=>{let t=x.find(t=>t.value===k.context.value);return t?t.label:null},[x,k.context.value]),q=["NAVIGATING","OPEN","DRAGGING","INTERACTING"].includes(k.value),j={ariaLabel:c,ariaLabelledBy:n,buttonRef:U,disabled:T,highlightedOptionRef:P,isExpanded:q,listboxId:K,listboxValueLabel:F,listRef:V,onValueChange:function(t){t!==k.context.value&&A?.(t)},popoverRef:w,selectedOptionRef:W,send:B,state:k.value,stateData:k.context},$=E.useRef(!1);if(!C.current&&null==I&&!$.current&&x.length){$.current=!0;let t=x.find(t=>!t.disabled);t&&t.value&&B({type:"VALUE_CHANGE",value:t.value})}return!function(t,n,c){{let l=(0,E.useRef)(null!=t),d=(0,E.useRef)({componentName:c,controlledPropName:n});(0,E.useEffect)(()=>{d.current={componentName:c,controlledPropName:n}},[c,n]),(0,E.useEffect)(()=>{let{current:n}=l,{componentName:c,controlledPropName:E}=d.current;n!==(null!=t)&&console.error(`A component is changing an ${n?"":"un"}controlled \`${E}\` state of ${c} to be ${n?"un":""}controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled ${c} element for the lifetime of the component.
      More info: https://fb.me/react-controlled-components`)},[t])}}(g,"value",D),function(t,n,c){let{current:l}=E.useRef(null!=t);l&&t!==n&&c()}(g,k.context.value,()=>{B({type:"VALUE_CHANGE",value:g})}),p(()=>{B({type:"GET_DERIVED_DATA",data:{options:x}})},[x,B]),E.useEffect(()=>{function handleMouseDown(t){let{target:n,relatedTarget:c}=t;popoverContainsEventTarget(w.current,n)||B({type:"OUTSIDE_MOUSE_DOWN",relatedTarget:c||n})}return q&&window.addEventListener("mousedown",handleMouseDown),()=>{window.removeEventListener("mousedown",handleMouseDown)}},[B,q]),E.useEffect(()=>{function handleMouseUp(t){let{target:n,relatedTarget:c}=t;popoverContainsEventTarget(w.current,n)||B({type:"OUTSIDE_MOUSE_UP",relatedTarget:c||n})}return q&&window.addEventListener("mouseup",handleMouseUp),()=>{window.removeEventListener("mouseup",handleMouseUp)}},[B,q]),E.useEffect(()=>{let t=h.current?.form;if(t)return t.addEventListener("reset",handleReset),()=>{t?.removeEventListener("reset",handleReset)};function handleReset(t){B({type:"RESET_VALUE",isControlled:C.current})}},[M,C,B]),E.createElement(t,{...m,ref:H,"data-reach-listbox-input":"","data-state":q?"expanded":"closed","data-value":k.context.value,id:K},E.createElement(R.Provider,{value:j},E.createElement(N.w_,{context:G,items:x,set:y},isFunction(l)?l({id:K,isExpanded:q,value:k.context.value,selectedOptionRef:W,highlightedOptionRef:P,valueLabel:F,expanded:q}):l,(_||v||b)&&E.createElement("input",{ref:h,"data-reach-listbox-hidden-input":"",disabled:T,form:_,name:v,readOnly:!0,required:b,tabIndex:-1,type:"hidden",value:k.context.value||""}))))});x.displayName="ListboxInput",E.forwardRef(function({arrow:t="▼",button:n,children:c,portal:l=!0,...d},f){return E.createElement(x,{...d,__componentName:"Listbox",ref:f},({value:d,valueLabel:f})=>E.createElement(E.Fragment,null,E.createElement(U,{arrow:t,children:n?isFunction(n)?n({value:d,label:f}):n:void 0}),E.createElement(V,{portal:l},E.createElement(w,null,c))))}).displayName="Listbox";var y=E.forwardRef(function({"aria-label":t,arrow:n=!1,as:c="span",children:l,onKeyDown:d,onMouseDown:f,onMouseUp:I,...N},p){let{buttonRef:O,send:T,ariaLabelledBy:_,disabled:v,isExpanded:A,listboxId:b,stateData:g,listboxValueLabel:D}=E.useContext(R),m=g.value,L=useComposedRefs(O,p),S=useKeyDown(),G=makeId("button",b),C=E.useMemo(()=>l?isFunction(l)?l({isExpanded:A,label:D,value:m,expanded:A}):l:D,[l,D,A,m]);return E.createElement(c,{"aria-disabled":v||void 0,"aria-expanded":A||void 0,"aria-haspopup":"listbox","aria-labelledby":t?void 0:[_,G].filter(Boolean).join(" "),"aria-label":t,role:"button",tabIndex:v?-1:0,...N,ref:L,"data-reach-listbox-button":"",id:G,onKeyDown:composeEventHandlers(d,S),onMouseDown:composeEventHandlers(f,function(t){isRightClick(t.nativeEvent)||(t.preventDefault(),t.stopPropagation(),T({type:"BUTTON_MOUSE_DOWN",disabled:v}))}),onMouseUp:composeEventHandlers(I,function(t){isRightClick(t.nativeEvent)||(t.preventDefault(),t.stopPropagation(),T({type:"BUTTON_MOUSE_UP"}))})},C,n&&E.createElement(P,null,"boolean"==typeof n?null:n))});y.displayName="ListboxButton";var U=E.memo(y),h=E.forwardRef(function({as:t="span",children:n,...c},l){let{isExpanded:d}=E.useContext(R);return E.createElement(t,{"aria-hidden":!0,...c,ref:l,"data-reach-listbox-arrow":"","data-expanded":d?"":void 0},isFunction(n)?n({isExpanded:d,expanded:d}):n||"▼")});h.displayName="ListboxArrow";var P=E.memo(h),M=E.forwardRef(function({as:t="div",position:n=I.g0,onBlur:c,onKeyDown:l,onMouseUp:d,portal:f=!0,unstable_observableRefs:N,...p},O){let{isExpanded:T,buttonRef:_,popoverRef:v,send:A}=E.useContext(R),b=useComposedRefs(v,O),g=useKeyDown(),D={hidden:!T,tabIndex:-1,...p,ref:b,"data-reach-listbox-popover":"",onMouseUp:composeEventHandlers(d,function(){A({type:"LIST_MOUSE_UP"})}),onBlur:composeEventHandlers(c,function(t){let{nativeEvent:n}=t;requestAnimationFrame(()=>{A({type:"BLUR",relatedTarget:n.relatedTarget||n.target})})}),onKeyDown:composeEventHandlers(l,g)};return f?E.createElement(I.J2,{...D,as:t,targetRef:_,position:n,unstable_observableRefs:N,unstable_skipInitialPortalRender:!0}):E.createElement(t,{...D})});M.displayName="ListboxPopover";var V=E.memo(M),w=E.forwardRef(function({as:t="ul",...n},c){let{listRef:l,ariaLabel:d,ariaLabelledBy:f,isExpanded:I,listboxId:N,stateData:{value:p,navigationValue:O}}=E.useContext(R),T=useComposedRefs(c,l);return E.createElement(t,{"aria-activedescendant":useOptionId(I?O:p),"aria-labelledby":d?void 0:f,"aria-label":d,role:"listbox",tabIndex:-1,...n,ref:T,"data-reach-listbox-list":"",id:makeId("listbox",N)})});w.displayName="ListboxList";var W=E.forwardRef(function({as:t="li",children:n,disabled:c,index:l,label:d,onClick:f,onMouseDown:I,onMouseEnter:p,onMouseLeave:O,onMouseMove:T,onMouseUp:_,onTouchStart:v,value:A,...b},g){let{highlightedOptionRef:D,selectedOptionRef:m,send:L,isExpanded:S,onValueChange:C,state:x,stateData:{value:y,navigationValue:U}}=E.useContext(R),[h,P]=E.useState(d),M=d||h||"",[V,w]=function(t,n){let[c,l]=(0,E.useState)(null);return[c,(0,E.useCallback)(n=>{t.current=n,l(n)},[])]}(E.useRef(null),0),W=E.useMemo(()=>({element:V,value:A,label:M,disabled:!!c}),[c,V,M,A]);(0,N.Yf)(W,G,l);let k=E.useCallback(t=>{!d&&t&&P(n=>t.textContent&&n!==t.textContent?t.textContent:n||"")},[d]),B=!!U&&U===A,Y=y===A,K=useComposedRefs(k,g,w,Y?m:null,B?D:null);return E.createElement(t,{"aria-selected":(S?B:Y)||void 0,"aria-disabled":c||void 0,role:"option",...b,ref:K,id:useOptionId(A),"data-reach-listbox-option":"","data-current-nav":B?"":void 0,"data-current-selected":Y?"":void 0,"data-label":M,"data-value":A,onClick:composeEventHandlers(f,function(t){isRightClick(t.nativeEvent)||L({type:"OPTION_CLICK",value:A,callback:C,disabled:!!c})}),onMouseDown:composeEventHandlers(I,function(t){isRightClick(t.nativeEvent)||(t.preventDefault(),L({type:"OPTION_MOUSE_DOWN"}))}),onMouseEnter:composeEventHandlers(p,function(){L({type:"OPTION_MOUSE_ENTER",value:A,disabled:!!c})}),onMouseLeave:composeEventHandlers(O,function(){L({type:"CLEAR_NAV_SELECTION"})}),onMouseMove:composeEventHandlers(T,function(){("OPEN"===x||U!==A)&&L({type:"OPTION_MOUSE_MOVE",value:A,disabled:!!c})}),onMouseUp:composeEventHandlers(_,function(t){isRightClick(t.nativeEvent)||L({type:"OPTION_MOUSE_UP",value:A,callback:C,disabled:!!c})}),onTouchStart:composeEventHandlers(v,function(){L({type:"OPTION_TOUCH_START",value:A,disabled:!!c})})},n)});W.displayName="ListboxOption",E.forwardRef(function({as:t="div",label:n,children:c,...l},d){let{listboxId:I}=E.useContext(R),N=makeId("label",(0,f.M)(l.id),I);return E.createElement(C.Provider,{value:{labelId:N}},E.createElement(t,{"aria-labelledby":N,role:"group",...l,"data-reach-listbox-group":"",ref:d},n&&E.createElement(k,null,n),c))}).displayName="ListboxGroup";var k=E.forwardRef(function({as:t="span",...n},c){let{labelId:l}=E.useContext(C);return E.createElement(t,{role:"presentation",...n,ref:c,"data-reach-listbox-group-label":"",id:l})});function useListboxContext(){let{highlightedOptionRef:t,selectedOptionRef:n,listboxId:c,listboxValueLabel:l,isExpanded:d,stateData:{value:f}}=E.useContext(R);return E.useMemo(()=>({id:c,isExpanded:d,selectedOptionRef:n,highlightedOptionRef:t,value:f,valueLabel:l}),[c,d,f,l,n,t])}function useKeyDown(){var t;let n,{send:c,disabled:l,onValueChange:d,stateData:{navigationValue:f,typeaheadQuery:I}}=E.useContext(R),p=(0,N.Ak)(G),O=(t=E.useEffect,n=(0,E.useRef)(d),t(()=>{n.current=d}),(0,E.useCallback)((...t)=>{n.current&&n.current(...t)},[]));E.useEffect(()=>{I&&c({type:"UPDATE_AFTER_TYPEAHEAD",query:I,callback:O});let t=window.setTimeout(()=>{null!=I&&c({type:"CLEAR_TYPEAHEAD"})},1e3);return()=>{window.clearTimeout(t)}},[O,c,I]);let T=p.findIndex(({value:t})=>t===f);return composeEventHandlers(function(t){let{key:n}=t,E="string"==typeof n&&1===n.length,I=p.find(t=>t.value===f);switch(n){case"Enter":c({type:"KEY_DOWN_ENTER",value:f,callback:d,disabled:!!(I?.disabled||l)});return;case" ":t.preventDefault(),c({type:"KEY_DOWN_SPACE",value:f,callback:d,disabled:!!(I?.disabled||l)});return;case"Escape":c({type:"KEY_DOWN_ESCAPE"});return;case"Tab":c({type:t.shiftKey?"KEY_DOWN_SHIFT_TAB":"KEY_DOWN_TAB"});return;default:E&&c({type:"KEY_DOWN_SEARCH",query:n,disabled:l});return}},(0,N.Dv)(G,{currentIndex:T,orientation:"vertical",key:"index",rotate:!0,filter:t=>!t.disabled,callback(t){c({type:"KEY_DOWN_NAVIGATE",value:p[t].value,disabled:l})}}))}function useOptionId(t){let{listboxId:n}=E.useContext(R);return t?makeId(`option-${t}`,n):void 0}function popoverContainsEventTarget(t,n){return!!(t&&t.contains(n))}k.displayName="ListboxGroupLabel"}}]);